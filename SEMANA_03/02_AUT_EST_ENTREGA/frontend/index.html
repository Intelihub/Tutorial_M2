<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width"/>
    <title>CRUD</title>
</head>
<h1>Listagem de Usuários</h1>
<p><a href="/create.html">Criar Usuário</a></p>

<script>
    const url = '/listaFormacao';

    fetch(url)
        .then((response) => {
            return response.json();
        })
        .then((data) => {
            let formacoes = data;
            let saida = '';
            formacoes.map(function (formacao) {
                saida += `<strong> ${formacao.name} </strong> - ${formacao.start_year} - ${formacao.end_year} - ${formacao.description}`;
                saida += ' - <a href="/update.html?id=' + `${formacao.formation_id}` + '">Editar</a>';
                saida += ' | <a href="/removeFormacao?id=' + `${formacao.formation_id}` + '">Remover</a></br>';
            });
            document.getElementById('resultado').innerHTML = saida;
        })
        .catch(function (error) {
            console.log(error);
        });


</script>

<body>
<div id="resultado"></div>
</body>
</html>